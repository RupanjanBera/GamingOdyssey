<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gaming Odyssey - Add Product</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Rajdhani', sans-serif;
      background-color: #1a1a2e;
      color: #E0E0E0;
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    .neon-border {
      border: 1px solid #00E5FF;
      box-shadow: 0 0 10px #00E5FF, 0 0 20px #D500F9;
    }
    .neon-glow:hover {
      box-shadow: 0 0 15px #00E5FF, 0 0 25px #D500F9;
      transform: translateY(-5px);
      transition: all 0.3s ease;
    }
    .sidebar {
      background-color: #0f0f1a;
      transition: all 0.3s ease;
    }
    .option-box {
      background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #2a1a3e 100%);
      border-radius: 1rem;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .option-box h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5rem;
      color: #00E5FF;
      text-shadow: 0 0 10px #00E5FF;
      margin-bottom: 1rem;
    }
    .option-box button {
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      transition: all 0.3s ease;
      background: #D500F9;
      color: white;
    }
    .option-box button:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px #00E5FF, 0 0 30px #D500F9;
    }
    .form-container, .products-container {
      background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #2a1a3e 100%);
      border-radius: 1rem;
      padding: 2rem;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: 0 0 30px #00E5FF, 0 0 50px #D500F9;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
      display: none;
    }
    .form-container.visible, .products-container.visible {
      opacity: 1;
      transform: translateY(0);
      display: block;
    }
    .form-container h2, .products-container h2 {
      font-family: 'Orbitron', sans-serif;
      font-size: 2.5rem;
      color: #00E5FF;
      text-shadow: 0 0 10px #00E5FF;
      text-align: center;
      margin-bottom: 2rem;
    }
    .form-container label {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.25rem;
      color: #00E5FF;
      margin-bottom: 0.5rem;
      display: block;
    }
    .form-container input,
    .form-container textarea,
    .products-container input {
      width: 100%;
      padding: 0.75rem;
      background: #1a1a2e;
      color: #E0E0E0;
      border: 1px solid #00E5FF;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      box-shadow: inset 0 0 10px #00E5FF;
      resize: vertical;
    }
    .form-container input:focus,
    .form-container textarea:focus,
    .products-container input:focus {
      outline: none;
      box-shadow: 0 0 15px #00E5FF;
    }
    .form-container .image-input {
      margin-bottom: 0.5rem;
    }
    .form-container .image-input-container {
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .form-container .remove-btn, .products-container .remove-product-btn {
      background: #D500F9;
      color: #0f0f1a;
      padding: 0.3rem 0.8rem;
      border-radius: 0.3rem;
      transition: all 0.3s ease;
    }
    .form-container .remove-btn:hover, .products-container .remove-product-btn:hover {
      background: #00E5FF;
      box-shadow: 0 0 10px #00E5FF;
    }
    .form-container .add-image-btn,
    .form-container .submit-btn {
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      transition: all 0.3s ease;
      display: block;
      margin: 1rem auto;
      text-align: center;
    }
    .form-container .add-image-btn {
      background: #00E5FF;
      color: #0f0f1a;
    }
    .form-container .submit-btn {
      background: #D500F9;
      color: white;
    }
    .form-container .add-image-btn:hover,
    .form-container .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 20px #00E5FF, 0 0 30px #D500F9;
    }
    .products-container .product-item {
      background: #1a1a2e;
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      border: 1px solid #00E5FF;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .products-container .product-item p {
      margin: 0;
      color: #E0E0E0;
    }
  </style>
</head>
<body>
  <!-- Sidebar (Navigation Menu) -->
  <div class="fixed top-0 left-0 h-full w-64 sidebar neon-border z-20 hidden md:block">
    <div class="p-6">
      <h1 class="text-2xl font-bold text-white font-orbitron">Gaming Odyssey</h1>
      <nav class="mt-10 space-y-4">
        <a href="index.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Home</span>
        </a>
        <a href="store.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Store</span>
        </a>
        <a href="tournaments.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Tournaments</span>
        </a>
        <a href="#" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Track Order</span>
        </a>
        <a href="contactus.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Contact Us</span>
        </a>
        <a href="aboutus.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>About Us</span>
        </a>
        <a href="signin.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Sign In</span>
        </a>
        <a href="createaccount.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Create Account</span>
        </a>
        <a href="cart.html" class="flex items-center space-x-2 text-lg hover:text-[#00E5FF] transition cart-icon-container">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M0 1h3l2 11h10l2-9H5l-.5-2H0v1zm6 15a2 2 0 100 4 2 2 0 000-4zm9 0a2 2 0 100 4 2 2 0 000-4z"/></svg>
          <span>Cart</span>
          <span id="cart-count-sidebar" class="cart-count">0</span>
        </a>
        <a href="add-product.html" class="flex items-center space-x-2 text-lg text-[#00E5FF] font-bold">
          <svg class="w-5 h-5 text-[#00E5FF]" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></svg>
          <span>Add Product</span>
        </a>
      </nav>
    </div>
  </div>

  <!-- Main Content -->
  <div class="md:ml-64 py-16 px-6">
    <!-- Options Section -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
      <!-- Add a New Product Box -->
      <div class="option-box neon-border neon-glow">
        <h3>Add a New Product</h3>
        <button id="show-add-form-btn">Go to Form</button>
      </div>
      <!-- Show Current Products Box -->
      <div class="option-box neon-border neon-glow">
        <h3>Show Current Products</h3>
        <button id="show-products-btn">View Products</button>
      </div>
    </div>

    <!-- Add Product Form Section -->
    <div id="add-form-section" class="form-container mt-8">
      <h2>Add New Product</h2>
      <div>
        <label for="product-name">Product Name</label>
        <input type="text" id="product-name" placeholder="Enter product name" required>
      </div>
      <div>
        <label for="product-description">Description</label>
        <textarea id="product-description" placeholder="Enter product description" rows="4" required></textarea>
      </div>
      <div>
        <label for="product-price">Price</label>
        <input type="number" id="product-price" placeholder="Enter price" step="0.01" required>
      </div>
      <div>
        <label>Images</label>
        <div id="image-inputs">
          <div class="image-input-container">
            <input type="url" class="image-input" placeholder="Enter image URL" required>
            <button class="remove-btn">Remove</button>
          </div>
        </div>
        <button class="add-image-btn">Add Another Image</button>
      </div>
      <button class="submit-btn">Add Product</button>
    </div>

    <!-- Current Products Section -->
    <div id="products-section" class="products-container mt-8">
      <h2>Current Products</h2>
      <div>
        <input type="text" id="search-products" placeholder="Search products by name..." required>
      </div>
      <div id="current-products">
        <!-- Products will be dynamically added here -->
      </div>
    </div>
  </div>

  <script>
    // Load cart count for sidebar
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartCountSidebar = document.getElementById('cart-count-sidebar');
    cartCountSidebar.textContent = cart.reduce((total, item) => total + item.quantity, 0);

    // Default products (same as in store.html)
    const defaultProducts = [
      {
        name: "Razer DeathAdder V3",
        price: 79.99,
        image: "https://via.placeholder.com/200",
        description: "The Razer DeathAdder V3 is an ergonomic gaming mouse designed for precision and speed. Featuring a 30K DPI optical sensor, lightweight design at 59g, and Razer's Speedflex cable for minimal drag, it ensures seamless control in intense gaming sessions. Perfect for FPS gamers seeking accuracy and comfort."
      },
      {
        name: "Logitech G Pro X",
        price: 129.99,
        image: "https://via.placeholder.com/200",
        description: "The Logitech G Pro X is a mechanical keyboard built for esports professionals. It features swappable pro-grade switches, customizable RGB lighting, and a compact tenkeyless design for maximum desk space. With a durable aluminum frame and programmable keys, it's ideal for competitive gaming."
      },
      {
        name: "Roccat Vulcan II",
        price: 149.99,
        image: "https://via.placeholder.com/200",
        description: "The Roccat Vulcan II offers a stunning visual experience with its transparent switch housing and vibrant RGB lighting. Equipped with Titan II optical switches for ultra-fast response times, it combines style and performance. The aluminum top plate ensures durability, making it a top choice for gamers."
      },
      {
        name: "ASUS ROG Swift",
        price: 599.99,
        image: "https://via.placeholder.com/200",
        description: "The ASUS ROG Swift is a 27-inch 4K gaming monitor with a 144Hz refresh rate and 1ms response time. Featuring HDR10 and a wide color gamut, it delivers stunning visuals for immersive gaming. Adaptive-sync technology ensures smooth gameplay, perfect for competitive and casual gamers alike."
      },
      {
        name: "Bose Companion 2",
        price: 149.99,
        image: "https://via.placeholder.com/200",
        description: "The Bose Companion 2 speakers deliver rich, room-filling sound for your gaming setup. With TrueSpace stereo technology, they provide a wide soundstage and clear audio. Compact yet powerful, these speakers are perfect for gamers who want immersive sound without taking up much desk space."
      },
      {
        name: "Logitech C920",
        price: 99.99,
        image: "https://via.placeholder.com/200",
        description: "The Logitech C920 is a high-definition webcam ideal for streaming and video calls. It offers 1080p video at 30fps, dual stereo microphones for clear audio, and automatic low-light correction. Compact and easy to use, it's a must-have for gamers and content creators looking to enhance their setup."
      }
    ];

    // Load all products (default + stored)
    const storedProducts = JSON.parse(localStorage.getItem('products')) || [];
    let allProducts = [...defaultProducts, ...storedProducts];

    // Section toggle functionality
    const addFormSection = document.getElementById('add-form-section');
    const productsSection = document.getElementById('products-section');
    const showAddFormBtn = document.getElementById('show-add-form-btn');
    const showProductsBtn = document.getElementById('show-products-btn');

    showAddFormBtn.addEventListener('click', () => {
      addFormSection.classList.add('visible');
      productsSection.classList.remove('visible');
    });

    showProductsBtn.addEventListener('click', () => {
      productsSection.classList.add('visible');
      addFormSection.classList.remove('visible');
      renderProducts(allProducts); // Render products when section is opened
    });

    // Add Product Form Functionality
    const imageInputsContainer = document.getElementById('image-inputs');
    const addImageBtn = document.querySelector('.add-image-btn');

    function attachRemoveListener(container) {
      const removeBtn = container.querySelector('.remove-btn');
      removeBtn.addEventListener('click', () => {
        if (imageInputsContainer.children.length > 1) {
          container.remove();
        } else {
          alert('At least one image is required.');
        }
      });
    }

    // Attach remove listener to the initial input
    attachRemoveListener(imageInputsContainer.querySelector('.image-input-container'));

    addImageBtn.addEventListener('click', () => {
      const newInputContainer = document.createElement('div');
      newInputContainer.className = 'image-input-container';
      newInputContainer.innerHTML = `
        <input type="url" class="image-input" placeholder="Enter image URL" required>
        <button class="remove-btn">Remove</button>
      `;
      imageInputsContainer.appendChild(newInputContainer);
      attachRemoveListener(newInputContainer);
    });

    const submitBtn = document.querySelector('.submit-btn');
    submitBtn.addEventListener('click', () => {
      const name = document.getElementById('product-name').value.trim();
      const description = document.getElementById('product-description').value.trim();
      const price = parseFloat(document.getElementById('product-price').value);
      const imageInputs = document.querySelectorAll('.image-input');
      const images = Array.from(imageInputs).map(input => input.value.trim());

      // Validation
      if (!name || !description || isNaN(price) || price <= 0 || images.length === 0 || images.some(img => !img)) {
        alert('Please fill in all fields correctly. Price must be a positive number, and at least one valid image URL is required.');
        return;
      }

      // Use the first image for display
      const product = {
        name,
        description,
        price,
        image: images[0]
      };

      // Save to localStorage and update allProducts
      storedProducts.push(product);
      localStorage.setItem('products', JSON.stringify(storedProducts));
      allProducts = [...defaultProducts, ...storedProducts];

      alert('Product added successfully!');
      // Clear form
      document.getElementById('product-name').value = '';
      document.getElementById('product-description').value = '';
      document.getElementById('product-price').value = '';
      imageInputsContainer.innerHTML = `
        <div class="image-input-container">
          <input type="url" class="image-input" placeholder="Enter image URL" required>
          <button class="remove-btn">Remove</button>
        </div>
      `;
      attachRemoveListener(imageInputsContainer.querySelector('.image-input-container'));
    });

    // Current Products Functionality
    const currentProductsContainer = document.getElementById('current-products');
    const searchProductsInput = document.getElementById('search-products');

    function renderProducts(products) {
      currentProductsContainer.innerHTML = '';
      products.forEach((product, index) => {
        const productItem = document.createElement('div');
        productItem.className = 'product-item';
        productItem.innerHTML = `
          <p>${product.name} - $${product.price}</p>
          <button class="remove-product-btn" data-index="${index}">Remove Product</button>
        `;
        currentProductsContainer.appendChild(productItem);
      });

      // Attach event listeners to remove buttons
      const removeButtons = document.querySelectorAll('.remove-product-btn');
      removeButtons.forEach(button => {
        button.addEventListener('click', (e) => {
          const index = parseInt(e.target.getAttribute('data-index'));
          const productToRemove = allProducts[index];
          // Only allow removal of non-default products (those after the initial 6)
          if (index >= defaultProducts.length) {
            allProducts.splice(index, 1);
            const updatedStoredProducts = allProducts.slice(defaultProducts.length);
            localStorage.setItem('products', JSON.stringify(updatedStoredProducts));
            renderProducts(allProducts);
            alert(`${productToRemove.name} has been removed!`);
          } else {
            alert('Default products cannot be removed.');
          }
        });
      });
    }

    // Search Functionality for Products
    searchProductsInput.addEventListener('input', () => {
      const searchTerm = searchProductsInput.value.toLowerCase();
      const filteredProducts = allProducts.filter(product =>
        product.name.toLowerCase().includes(searchTerm)
      );
      renderProducts(filteredProducts);
    });

    // Initial state: both sections hidden
    addFormSection.classList.remove('visible');
    productsSection.classList.remove('visible');
  </script>
</body>
</html>
